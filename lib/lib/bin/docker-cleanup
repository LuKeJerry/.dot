#!/bin/bash

hard() {
    # Delete all containers
    docker rm $(docker ps -a -q)
    # Delete all images
    docker rmi $(docker images -q)
}

clean() {
    docker rm $(docker ps -a -f status=exited -q)
    docker rmi $(docker images --no-trunc -q -f dangling=true)
    docker run -v /var/run/docker.sock:/var/run/docker.sock -v /var/lib/docker:/var/lib/docker --rm martin/docker-cleanup-volumes
}

if [ "$1" = "hard" ]; then
    hard
else
    clean
fi
